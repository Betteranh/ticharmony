<header th:fragment="header" class="bg-blue-600 fixed top-0 w-full z-50 shadow">
    <div class="px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16 w-full">
            <!-- Logo + navigation principale ensemble Ã  gauche -->
            <div class="flex items-center space-x-8">
                <a th:href="@{/}" class="flex items-center space-x-2">
                    <img th:src="@{/images/tic.png}" alt="Logo TIC Harmony" class="h-10 w-auto">
                    <!--                    <img th:src="@{/images/logo-tic-harmony.png}" alt="Logo TIC Harmony" class="h-10 w-auto">-->
                </a>
                <!-- Affiche Support Technique uniquement pour connectÃ© -->
                <span sec:authorize="isAuthenticated()" class="text-white font-bold text-lg tracking-wide">
                    Support Technique
                </span>
                <nav class="hidden md:flex items-center space-x-6">
                    <a th:href="@{/}" class="text-white hover:underline">Accueil</a>
                    <a sec:authorize="hasRole('CLIENT')" th:href="@{/clientDashboard}"
                       class="text-white hover:underline">Tableau de bord</a>
                    <a sec:authorize="hasAnyRole('MEMBER')" th:href="@{/memberDashboard}"
                       class="text-white hover:underline">Tableau de bord</a>
                    <a sec:authorize="hasAnyRole('ADMIN')" th:href="@{/adminDashboard}"
                       class="text-white hover:underline">Tableau de bord</a>
                    <a sec:authorize="isAuthenticated()" th:href="@{/problems}" class="text-white hover:underline">Tickets</a>
                    <a sec:authorize="hasRole('ADMIN') or hasRole('CLIENT')" th:href="@{/problems/create}"
                       class="text-white hover:underline">
                        Nouveau ticket
                    </a>
                    <a sec:authorize="hasRole('ADMIN')" th:href="@{/employees}" class="text-white hover:underline">
                        Utilisateurs
                    </a>
                    <a sec:authorize="hasAnyRole('ADMIN', 'MEMBER')" th:href="@{/partners}"
                       class="text-white hover:underline">
                        Clients
                    </a>
                </nav>
            </div>

            <!-- Zone utilisateur Ã  droite -->
            <div class="flex items-center space-x-2">
                <!-- Non connectÃ© -->
                <div sec:authorize="!isAuthenticated()" class="flex space-x-2">
                    <a th:href="@{/login}" class="text-white hover:underline font-medium">Connexion</a>
                    <span class="text-white">|</span>
                    <a th:href="@{/employeeSignup}" class="text-white hover:underline font-medium">Inscription</a>
                </div>
                <!-- ConnectÃ© -->
                <div sec:authorize="isAuthenticated()" class="flex items-center space-x-4">
                    <button id="notifToggle" class="text-white relative hover:text-yellow-300">
                        ðŸ””
                        <span th:if="${notifications != null and notifications.size() > 0}"
                              class="absolute -top-1 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                              th:text="${notifications.size()}">0</span>
                    </button>
                    <span class="text-white font-semibold">
                        <span sec:authentication="principal.username"></span>
                    </span>
                    <form th:action="@{/logout}" method="post">
                        <button type="submit" class="text-white hover:underline">DÃ©connexion</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</header>

